<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>test</title>
    
    <style type="text/css">
    body
{
    background: rgb(148,189,201);
    color: white;
    font-family:"Helvetica";
    font-weight: 100;
}

p
{
    color: black;
}

#select
{
float: right;
}

#select input
{

}

#svg_Wrapper
{
    position: relative;
    margin: auto auto;
    width: 80%;
    height: 500px;
    padding-top: 50px;
}

#svg
{
    background: white;
    width: 100%;
    height: 100%;
}


.square {
-webkit-animation: cssAnimation 2s infinite linear;
-moz-animation: cssAnimation 2s infinite linear;
-o-animation: cssAnimation 2s  infinite linear;
}

@-webkit-keyframes cssAnimation {
from { -webkit-transform: rotate(0deg); }
to { -webkit-transform: rotate(360deg); }
}
@-moz-keyframes cssAnimation {
from { -moz-transform: rotate(0deg); }
to { -moz-transform: rotate(360deg); }
}
@-o-keyframes cssAnimation {
from { -o-transform: rotate(0deg); }
to { -o-transform: rotate(360deg); }
}
    </style>
  </head>
  <body>
    <body onload="init()">
     
<h2>SVG stress test</h2>
    
    <button class="addone" onclick="addSquare()">add one</button>
    <button class="addone" onclick="addHundert()">add hunderd</button>
    
    <div id="select">
    <input type="radio" name="Zahlmethode" value="svg" checked onchange="renderType(event)"> SVG Animation
    <input type="radio" name="Zahlmethode" value="css" onchange="renderType(event)"> CSS Animation
    </div>
    <div id="svg_Wrapper">
    <svg id="svg" xmlns="http://www.w3.org/2000/svg" version="1.1">
     
    </svg>
        
        </div>
    <p id="onScreen">Squares on screen:</p>
        
         </body>

    <script type="text/javascript">
    window.BuidlProviders = {
      web3: {
        url: "HTTP://127.0.0.1:7545",
        chainId: "5777",
        gasPrice: "0",
        gasLimit: "6721975",
      },
      es: {
        url: "HTTP://127.0.0.1:7545"
      }
    }
    </script>
    <script type="text/javascript" src="https://buidl.secondstate.io/embed/main.js"></script>
    
    <script type="text/javascript">
    /* Don't modify */
var abi = [{"constant":true,"inputs":[],"name":"get","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"string","name":"x","type":"string"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}];
var bytecode = '608060405234801561001057600080fd5b5061030f806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c80634ed3885e1461003b5780636d4ce63c146100f6575b600080fd5b6100f46004803603602081101561005157600080fd5b810190808035906020019064010000000081111561006e57600080fd5b82018360208201111561008057600080fd5b803590602001918460018302840111640100000000831117156100a257600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050610179565b005b6100fe610193565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561013e578082015181840152602081019050610123565b50505050905090810190601f16801561016b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b806000908051906020019061018f929190610235565b5050565b606060008054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561022b5780601f106102005761010080835404028352916020019161022b565b820191906000526020600020905b81548152906001019060200180831161020e57829003601f168201915b5050505050905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061027657805160ff19168380011785556102a4565b828001600101855582156102a4579182015b828111156102a3578251825591602001919060010190610288565b5b5090506102b191906102b5565b5090565b6102d791905b808211156102d35760008160009055506001016102bb565b5090565b9056fea265627a7a72315820653603be1de9e2a573f65726a868e8639bdfed8c63bcfab737b4f732b2396a1964736f6c63430005110032';
var cAddr = '0x8cccd37abde1341900d0f2c8c5ae5ceb2166745d';
/* Don't modify */

var width;
var height;
var onScreen = 0;
var renderT = "svg";

function init()
{
    width = document.getElementById('svg_Wrapper').offsetWidth;
    height = document.getElementById('svg_Wrapper').offsetHeight;
//    addSquare();
    for (var i=0;i<10;i++)
    { 
        addSquare()
    }
}

function renderType(event)
{
    renderT = event.target.value;
    
    var myNode = document.getElementById("svg");
while (myNode.firstChild) {
    myNode.removeChild(myNode.firstChild);
}
     onScreen = 0;
     document.getElementById("onScreen").innerHTML = "Squares on screen: "+onScreen;
}

function addHundert()
{
    for (var i=0;i<100;i++)
    { 
        addSquare()
    }
}

function addSquare()
{
    var svgNS = "http://www.w3.org/2000/svg";
    var posX = Math.floor(Math.random() * width) - 50;
    var posY = Math.floor(Math.random() * height) - 50;
    
    var square = document.createElementNS(svgNS,"rect");
        square.setAttributeNS(null,"x",posX);
        square.setAttributeNS(null,"y",posY);
        square.setAttributeNS(null,"width",100);
        square.setAttributeNS(null,"height",100);
        square.setAttributeNS(null,"fill","#"+((1<<24)*Math.random()|0).toString(16));
        square.setAttributeNS(null,"stroke","none");
    
//    alert(renderType)
    if(renderT == "svg")
    {
    
    var ani = document.createElementNS("http://www.w3.org/2000/svg","animateTransform");
        ani.setAttribute("attributeName", "transform");
        ani.setAttribute("attributeType", "xml");
        ani.setAttribute("type", "rotate" );
        ani.setAttribute("from", "0"+" "+(posX+50)+" "+(posY+50));
        ani.setAttribute("to", "360"+" "+(posX+50)+" "+(posY+50));
        ani.setAttribute("begin", "0s");
        ani.setAttribute("dur", "2s");
        ani.setAttribute("repeatCount", "indefinite");
    
    square.appendChild(ani);
    }
    
    if(renderT == "css")
    {
       square.setAttributeNS(null,"class","square");
        
        square.style.MozTransformOrigin = (posX+50) + "px " + (posY+50)+"px";
        square.style.WebkitTransformOrigin = (posX+50) + " "+ (posY+50);
    }
    
    document.getElementById("svg").appendChild(square);
    
    onScreen++;

     document.getElementById("onScreen").innerHTML = "Squares on screen: "+onScreen;
}
    </script>
  </body>
</html>