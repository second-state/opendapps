<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>新型冠状病毒绘本《为什么不能出门？》| 中英双语，原创公益，免费下载</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css" />
    <style type="text/css">
    button {
  background-color: #000;
  color: #fff;
  border: 0;
  font-size: 1em;
}
    </style>
  </head>
  <body>
    <div class="container">
    <br/>
    <p><center>本文内容已经永久记录在 <a target="_blank" href="https://app.cybermiles.io/">CyberMiles</a> 公链。您可以通过上链合约地址 [<span id="link">获取中...</span>] 查到所有的变更历史与交易哈希值。【<a target="_blank" href="https://mp.weixin.qq.com/s/HHF-1nz0cC2HdICkMssMYg">原文链接 订阅公众号</a>】</center></p>
    <div class="jumbotron" id="content">
      <p class="lead">请稍等，正在从区块链获取数据 ...</p>
    </div>
    <br/>
    <p><a target="_blank" href="https://www.secondstate.io/">第二形科技公司</a></p><ul><li>全球领先的区块链技术，为多个全球著名公链提供技术</li><li>自主研发的WASM虚拟机为下一代数据中心提高效率</li><li>为云服务提供商和开发者赋能</li><li>提供政府政务、医疗健康及电商等领域区块链技术解决方案，提供区块链行业知识培训</li></ul></p>
</div>

    <script type="text/javascript">
    window.BuidlProviders = {
      web3: {
        url: "https://rpc.cybermiles.io:8545",
        chainId: "18",
        gasPrice: "5000000000",
        gasLimit: "8000000",
      },
      es: {
        url: "https://cmt.search.secondstate.io"
      }
    }
    </script>
    <script type="text/javascript" src="https://buidl.secondstate.io/embed/main.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
    /* Don't modify */
var abi = [{"constant":false,"inputs":[{"name":"_content","type":"string"}],"name":"setContent","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getContent","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"content","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_content","type":"string"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"}];
var bytecode = '608060405234801561001057600080fd5b506040516105af3803806105af83398101806040528101908080518201929190505050336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060019080519060200190610089929190610090565b5050610135565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f106100d157805160ff19168380011785556100ff565b828001600101855582156100ff579182015b828111156100fe5782518255916020019190600101906100e3565b5b50905061010c9190610110565b5090565b61013291905b8082111561012e576000816000905550600101610116565b5090565b90565b61046b806101446000396000f300608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680633be8fd6a1461005c57806359016c79146100c55780638a4d5a6714610155575b600080fd5b34801561006857600080fd5b506100c3600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506101e5565b005b3480156100d157600080fd5b506100da61025a565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561011a5780820151818401526020810190506100ff565b50505050905090810190601f1680156101475780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b34801561016157600080fd5b5061016a6102fc565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156101aa57808201518184015260208101905061018f565b50505050905090810190601f1680156101d75780820d805160018360200d6101000a0d1916815260200191505b509250505060405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561024057600080fd5b806001908051906020019061025692919061039a565b5050565b60606001805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156102f25780601f106102c7576101008083540402835291602001916102f2565b820191906000526020600020905b8154815290600101906020018083116102d55782900d601f168201915b5050505050905090565b6001805460018160011615610100020d166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020d166002900480156103925780601f1061036757610100808354040283529160200191610392565b820191906000526020600020905b8154815290600101906020018083116103755782900d601f168201915b505050505081565b82805460018160011615610100020d166002900490600052602060002090601f016020900481019282601f106103db57805160ff1916838001178555610409565b82800160010185558215610409579182015b828111156104085782518255916020019190600101906103ed565b5b509050610416919061041a565b5090565b61043c91905b80821115610438576000816000905550600101610420565b5090565b905600a165627a7a723058202b58760a846e20d367b9f4b30f4308c5a30993b24c1686f33249d3f433646b660029';
var cAddr = '0x3f20e32d2df0f77958fbb1b770531b075f981cf3';
/* Don't modify */

var instance = null;
window.addEventListener('web3Ready', function() {
  var contract = web3.ss.contract(abi);
  instance = contract.at(cAddr);
  reload();
});

function reload() {
    var content = "";
    instance.getContent(function (e, r) {
        content = r;
        $("#content").html(content);
    });
    
    $("#link").html("<a href='https://www.cmttracking.io/address/" + cAddr + "'>" + shorten(cAddr) + "</a>");
}
      
function shorten (addr) {
    return addr.replace(/(.{7})..+/, "$1…");
}
    </script>
  </body>
</html>