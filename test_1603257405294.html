<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>test</title>
    
    <style type="text/css">
    button {
  background-color: #000;
  color: #fff;
  border: 0;
  font-size: 1em;
}

    </style>
  </head>
  <body>
    
<head>
    <title>Simple HTML Document</title>
    <script type="text/javascript">
        var instance = null;
        window.addEventListener('web3Ready', function() {
        var contract = web3.ss.contract(abi);
            instance = contract.at(cAddr);
        });

        // 刷新提案列表
        function refreshProposals(){
            alert("测试点击事件");
            var objSelectNow=document.getElementById("vote_proposals");
            var inner="<option value='1'>1</option>";
            objSelectNow.innerHTML=inner;
            var objOption = document.createElement("OPTION");
            objOption.text= 2;
            objOption.value=2;
            objSelectNow.options.add(objOption);
        }
    
    </script>
</head>
<body>
    <form id="addProposal">
        标    题：<input id="pro_title" name="title"/><br/><br/>
        描    述：<input id="pro_describe" name="describe"/><br/><br/>
        通 过 率：<input id="pro_passRate" name="passRate"/><br/><br/>
        截止时间：<input id="pro_expiryDate" name="expiryDate" type="date"/><br/><br/>
        <input value="发布提案" type="button"/>
    
    </form>
    <br/><br/>
    <br/><br/>
    <br/><br/>
    <form id="voted">
        选择提案：
        <select id="vote_proposals" name="proposalId" style="width:100px;" onselect="selectFunction(this.value)">
            <!-- <option value="1">提案1</option>
            <option value="2">提案2</option>
            <option value="3">提案3</option>
            <option value="4">提案4</option> -->
        </select>&nbsp&nbsp&nbsp&nbsp
        <input value="刷新提案列表" onclick="refreshProposals()" type="button"/><br/><br/>
        <input id="radio1" type="radio" name="vote"/>赞成
        &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
        <input id="radio2" type="radio" name="vote"/>反对 <br/><br/>
        <input value=" 投  票 " type="button"/>
    </form>
</body>


    <script type="text/javascript">
    window.BuidlProviders = {
      web3: {
        url: "https://rpc.oasiseth.org:8545",
        chainId: "69",
        gasPrice: "1",
        gasLimit: "8000000",
      },
      es: {
        url: "https://devchain.ss.search.secondstate.io"
      }
    }
    </script>
    <script type="text/javascript" src="https://buidl.secondstate.io/embed/main.js"></script>
    
    <script type="text/javascript">
    /* Don't modify */
var abi = [{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"proposals","outputs":[{"name":"title","type":"string"},{"name":"describe","type":"string"},{"name":"state","type":"int256"},{"name":"passRate","type":"int256"},{"name":"createDate","type":"uint256"},{"name":"expiryDate","type":"uint256"},{"name":"user","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"x","type":"uint256"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"title","type":"string"},{"name":"describe","type":"string"},{"name":"passRate","type":"int256"},{"name":"expiryDate","type":"uint256"}],"name":"addProposal","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"proposalId","type":"uint256"},{"name":"vote","type":"int256"}],"name":"voted","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"}];
var bytecode = '6060604052341561000f57600080fd5b6107fc8061001e6000396000f30060606040526004361061006d576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063013cf08b1461007257806360fe47b1146102035780636d4ce63c14610226578063cc78e0371461024f578063df2355ef14610301575b600080fd5b341561007d57600080fd5b610093600480803590602001909190505061032d565b6040518080602001806020018881526020018781526020018681526020018581526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183810383528a81815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561016a5780601f1061013f5761010080835404028352916020019161016a565b820191906000526020600020905b81548152906001019060200180831161014d57829003601f168201915b50508381038252898181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156101ed5780601f106101c2576101008083540402835291602001916101ed565b820191906000526020600020905b8154815290600101906020018083116101d057829003601f168201915b5050995050505050505050505060405180910390f35b341561020e57600080fd5b610224600480803590602001909190505061039c565b005b341561023157600080fd5b6102396103a6565b6040518082815260200191505060405180910390f35b341561025a57600080fd5b6102ff600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919080359060200190919080359060200190919050506103af565b005b341561030c57600080fd5b61032b60048080359060200190919080359060200190919050506104d5565b005b60018181548110151561033c57fe5b9060005260206000209060080201600091509050806000019080600101908060020154908060030154908060040154908060050154908060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905087565b8060008190555050565b60008054905090565b600180548060010182816103c3919061062b565b9160005260206000209060080201600060e060405190810160405280888152602001878152602001600281526020018681526020014281526020018581526020013373ffffffffffffffffffffffffffffffffffffffff168152509091909150600082015181600001908051906020019061043f92919061065d565b50602082015181600101908051906020019061045c92919061065d565b5060408201518160020155606082015181600301556080820151816004015560a0820151816005015560c08201518160060160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050505050505050565b6001828154811015156104e457fe5b906000526020600020906008020160070160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060040160009054906101000a900460ff161515610627578060018381548110151561055957fe5b906000526020600020906008020160070160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010181905550600180838154811015156105be57fe5b906000526020600020906008020160070160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060040160006101000a81548160ff0219169083151502179055505b5050565b8154818355818115116106585760080281600802836000526020600020918201910161065791906106dd565b5b505050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061069e57805160ff19168380011785556106cc565b828001600101855582156106cc579182015b828111156106cb5782518255916020019190600101906106b0565b5b5090506106d99190610763565b5090565b61076091905b8082111561075c57600080820160006106fc9190610788565b60018201600061070c9190610788565b60028201600090556003820160009055600482016000905560058201600090556006820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506008016106e3565b5090565b90565b61078591905b80821115610781576000816000905550600101610769565b5090565b90565b50805460018160011615610100020316600290046000825580601f106107ae57506107cd565b601f0160209004906000526020600020908101906107cc9190610763565b5b505600a165627a7a72305820a6bbaae07a9870fced4dae3a1c75feb6a7336dbdebbdfe26c8c1e038d473449e0029';
var cAddr = '0xbcd88f0eb9b05c64168fad0e29db33e56429ef15';
/* Don't modify */



// document.querySelector("#b1").addEventListener("click", function() {
  // var n = window.prompt("Enter the number:");
  // n && instance.set(n);
// });
// document.querySelector("#b2").addEventListener("click", function() {
//   // instance.get(function(e,d) {
//   //   console.log(d.toString());
//   //   alert(d.toString());
//   // });
//      var $selec = $("#vote_proposals");
//      var $opt = $("<option></option>")    
//      for(var i =0 ; i<1;i++){
//          var id = "ttt1";        
//          var name = "lll";
//          var $opt = $("<option></option>").text(name).val(id);          
//          $selec.append($opt);
//      }
// });


// document.querySelector("#b3").addEventListener("click", function() {
  

// });

// $("#b2").click(function() {
//   window.alert("测试点击事件1");
  //  var $selec = $("#vote_proposals");
  //    var $opt = $("<option></option>")    
  //    for(var i =0 ; i<1;i++){
  //        var id = "ttt1";        
  //        var name = "lll";
  //        var $opt = $("<option></option>").text(name).val(id);          
  //        $selec.append($opt);
  //    }
// });

    </script>
  </body>
</html>